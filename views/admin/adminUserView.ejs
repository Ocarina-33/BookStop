<div class="row m-0">
    <!-- Sidebar -->
    <div class="col-2 p-0">
        <div class="sidebar text-white p-3" style="background-color: #654321; height: 100vh; position: fixed; width: 16.666%;">
            <div class="list-group list-group-flush">
                <a href="/admin" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-house me-2"></i>Home
                </a>
                <a href="/admin/book" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-book me-2"></i>Books
                </a>
                <a href="/admin/author" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-person me-2"></i>Authors
                </a>
                <a href="/admin/publisher" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-building me-2"></i>Publishers
                </a>
                <a href="/admin/order" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-cart me-2"></i>Orders
                </a>
                <a href="/admin/voucher" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #7d5a32; border: none;">
                    <i class="bi bi-tag me-2"></i>Vouchers
                </a>
                <a href="/admin/users" class="list-group-item list-group-item-action text-white mb-2 rounded" style="background-color: #8B4513; border: none;">
                    <i class="bi bi-people me-2"></i>Users
                </a>
            </div>
        </div>
    </div>
    <!-- Main Content -->
    <div class="col-10 offset-2">
        <div class="container-fluid">
            <div class="card shadow-sm mt-3 mb-3" style="border-color: #8B4513;">
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <h3 class="card-title mb-1" style="color: #8B4513;">
                                <i class="bi bi-person-circle me-2"></i>User Details
                            </h3>
                            <p class="text-muted mb-0">View detailed information about this user</p>
                        </div>
                        <a href="/admin/users" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left me-1"></i>Back to Users
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- User Profile Card -->
            <div class="row">
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-body text-center">
                            <img src="<%= user.IMAGE || '/images/no-profile-picture.jpg' %>" 
                                 class="rounded-circle mb-3" 
                                 width="120" height="120" 
                                 style="object-fit: cover;" 
                                 alt="User avatar">
                            <h4 class="card-title"><%= user.NAME %></h4>
                            <p class="text-muted">User ID: #<%= user.id %></p>
                            
                            <div class="row text-center mt-4">
                                <div class="col-4">
                                    <div class="border-end">
                                        <h5 class="text-success mb-1"><%= user.total_orders || 0 %></h5>
                                        <small class="text-muted">Orders</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="border-end">
                                        <h5 class="text-info mb-1">৳<%= user.total_spent || 0 %></h5>
                                        <small class="text-muted">Spent</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <h5 class="text-warning mb-1"><%= user.total_reviews || 0 %></h5>
                                    <small class="text-muted">Reviews</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-8">
                    <div class="card shadow-sm">
                        <div class="card-header" style="background-color: #f8f9fa;">
                            <h5 class="mb-0">
                                <i class="bi bi-info-circle me-2"></i>Personal Information
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Full Name</label>
                                        <p class="mb-0"><%= user.NAME %></p>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Email Address</label>
                                        <p class="mb-0">
                                            <i class="bi bi-envelope text-muted me-2"></i>
                                            <%= user.EMAIL %>
                                        </p>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Phone Number</label>
                                        <p class="mb-0">
                                            <% if (user.PHONE) { %>
                                                <i class="bi bi-phone text-muted me-2"></i>
                                                <%= user.PHONE %>
                                            <% } else { %>
                                                <span class="text-muted">Not provided</span>
                                            <% } %>
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Date of Birth</label>
                                        <p class="mb-0">
                                            <% if (user.DOB) { %>
                                                <i class="bi bi-calendar text-muted me-2"></i>
                                                <%= new Date(user.DOB).toLocaleDateString('en-US', { 
                                                    year: 'numeric', 
                                                    month: 'long', 
                                                    day: 'numeric' 
                                                }) %>
                                            <% } else { %>
                                                <span class="text-muted">Not provided</span>
                                            <% } %>
                                        </p>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Address</label>
                                        <p class="mb-0">
                                            <% if (user.ADDRESS && user.ADDRESS !== 'user.address') { %>
                                                <i class="bi bi-geo-alt text-muted me-2"></i>
                                                <%= user.ADDRESS %>
                                            <% } else { %>
                                                <span class="text-muted">Not provided</span>
                                            <% } %>
                                        </p>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-semibold text-muted">Registration Date</label>
                                        <p class="mb-0">
                                            <i class="bi bi-calendar-plus text-muted me-2"></i>
                                            <% if (user.registration_date) { %>
                                                Member since <%= new Date(user.registration_date).toLocaleDateString('en-US', { 
                                                    year: 'numeric', 
                                                    month: 'long' 
                                                }) %>
                                            <% } else { %>
                                                Registration date not available
                                            <% } %>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Activity Summary -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card shadow-sm">
                        <div class="card-header" style="background-color: #f8f9fa;">
                            <h5 class="mb-0">
                                <i class="bi bi-activity me-2"></i>Account Activity
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row text-center">
                                <div class="col-md-3">
                                    <div class="border-end pe-3">
                                        <h4 class="text-success mb-2">
                                            <i class="bi bi-cart-check"></i>
                                        </h4>
                                        <h5 class="mb-1"><%= user.total_orders || 0 %></h5>
                                        <p class="text-muted mb-0">Total Orders</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="border-end pe-3">
                                        <h4 class="text-info mb-2">
                                            <i class="bi bi-currency-dollar"></i>
                                        </h4>
                                        <h5 class="mb-1">৳<%= user.total_spent || 0 %></h5>
                                        <p class="text-muted mb-0">Total Spent</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="border-end pe-3">
                                        <h4 class="text-warning mb-2">
                                            <i class="bi bi-star"></i>
                                        </h4>
                                        <h5 class="mb-1"><%= user.total_reviews || 0 %></h5>
                                        <p class="text-muted mb-0">Reviews Written</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <h4 class="text-danger mb-2">
                                        <i class="bi bi-heart"></i>
                                    </h4>
                                    <h5 class="mb-1"><%= user.total_wishlist || 0 %></h5>
                                    <p class="text-muted mb-0">Wishlist Items</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card shadow-sm">
                        <div class="card-header" style="background-color: #f8f9fa;">
                            <h5 class="mb-0">
                                <i class="bi bi-clock-history me-2"></i>Recent Activity
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="text-center py-4">
                                <i class="bi bi-clock text-muted" style="font-size: 2rem;"></i>
                                <h6 class="text-muted mt-3">No Recent Activity</h6>
                                <p class="text-muted mb-0">This user hasn't been active recently.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
