<nav aria-label="breadcrumb" style="--bs-breadcrumb-divider: '>';">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="/publishers">Publishers</a></li>
        <li class="breadcrumb-item active"><%= publisher.name %></li>
    </ol>
</nav>

<div class="row shadow m-0 mb-4 p-3">
    <div class="col-4">
        <img class="img-fluid rounded" src="<%= publisher.image %>" alt="<%= publisher.name %>" style="max-height: 300px; object-fit: contain;">
    </div>
    <div class="col-8">
        <h2 class="mb-3" style="color: #266dd3;"><%= publisher.name %></h2>
        <div class="mb-3">
            <span class="badge bg-secondary fs-6"><%= publisher.book_count %> Books Published</span>
            <% if(publisher.founding_date) { %>
                <span class="badge bg-info fs-6 ms-2">Founded: <%= new Date(publisher.founding_date).getFullYear() %></span>
            <% } %>
        </div>
        <p class="lead">Discover the amazing collection of books published by <%= publisher.name %>.</p>
    </div>
</div>

<div class="mt-4">
    <h3 class="mb-4">Books by <%= publisher.name %></h3>
    
    <% if(books && books.length > 0) { %>
        <div class="d-flex flex-wrap justify-content-start">
            <% for(let i = 0; i < books.length; i++){ %>
                <div class="card book-card mb-3 m-2" style="width: 12rem;">
                    <img class="card-img-top p-3" src="<%= books[i].image %>" alt="<%= books[i].name %>">
                    <div class="card-body" style="display: flex;flex-direction: column;justify-content:space-between;">
                        <div>
                            <p style="color: #266dd3;font-weight: 650; font-size: 16px;" class="card-title"><%= books[i].name %></p>
                            <p style="font-weight: 510; font-size: 14px;">by <%= books[i].author_name %></p>
                            <span class="ml-0">
                                <% if(books[i].review_count){ %>
                                    <% for(let stars = 0; stars < Math.round(parseFloat(books[i].star)); stars++){ %>
                                        ‚≠ê
                                    <% } %>
                                <% }else{ %>
                                    No Reviews yet
                                <% } %>
                            </span>
                        </div>
                        <div>
                            <p class="card-text">Price: Tk. <%= books[i].price %></p>
                            <div class="d-grid gap-2">
                                <a href="<%= '/books/' + books[i].id %>" class="btn btn-warning btn-sm">
                                    <i class="bi bi-book-half"></i>
                                    VIEW BOOK
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
    <% } else { %>
        <div class="text-center p-5">
            <p class="text-muted">No books found for this publisher.</p>
        </div>
    <% } %>
</div>

<style>
.book-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
}

.book-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.book-card img {
    transition: transform 0.3s ease;
}

.book-card:hover img {
    transform: scale(1.05);
}
</style>